{"version":3,"file":"AGantt.esm.js","sources":["../node_modules/dayjs/dayjs.min.js","../src/utils.js","../node_modules/dayjs/plugin/isBetween.js","../node_modules/dayjs/plugin/weekday.js","../node_modules/dayjs/plugin/weekOfYear.js","../node_modules/dayjs/plugin/quarterOfYear.js","../node_modules/dayjs/plugin/isLeapYear.js","../node_modules/dayjs/plugin/advancedFormat.js","../src/TimeAxis.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/now.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/debounce.js","../node_modules/lodash/throttle.js","../node_modules/dompurify/dist/purify.es.mjs","../src/Chart.js","../src/Gantt.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","import dayjs from \"dayjs\";\r\n\r\n// 一天的毫秒数\r\nexport const ONE_DAY_MS = 86400000;\r\n// 图表最小比例\r\nexport const MIN_VIEW_RATE = 0.5;\r\n// 图表头部时间轴高度\r\nexport const HEADER_HEIGHT = 57;\r\nexport const TOP_PADDING = 0;\r\n\r\n// 视图日视图、周视图、月视图、季视图、年视图\r\nexport const viewTypeList = [\r\n  {\r\n    type: 'day',\r\n    label: '日视图',\r\n    value: 2880, // 一个格子宽度为30px, 一天24*60*60秒 / 30px = 2880秒/px\r\n  },\r\n  {\r\n    type: 'week',\r\n    label: '周视图',\r\n    value: 3600, // 一个格子宽度为168px, 一周24*60*60*7秒 / 168px = 36000秒/px\r\n  },\r\n  {\r\n    type: 'month',\r\n    label: '月视图',\r\n    value: 14400,\r\n  },\r\n  {\r\n    type: 'quarter',\r\n    label: '季视图',\r\n    value: 86400,\r\n  },\r\n  {\r\n    type: 'halfYear',\r\n    label: '年视图',\r\n    value: 115200,\r\n  },\r\n];\r\n\r\nexport const getViewTypeConfig = (viewType) => {\r\n  return viewTypeList.find((item) => item.type === viewType)\r\n}\r\n\r\n// 创建DOM\r\nexport const createElement = (tagName, className) => {\r\n  const element = document.createElement(tagName);\r\n  if (className) {\r\n    element.className = className;\r\n  }\r\n  return element;\r\n}\r\n\r\n// 创建SVG元素\r\nexport const createSvgElement = (tagName, props = {}) => {\r\n  const element = document.createElementNS('http://www.w3.org/2000/svg', tagName);\r\n\r\n  for (const key in props) {\r\n    const value = props[key];\r\n    element.setAttribute(key, value);\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nexport const addPrefixCls = (str, prefixCls = 'my-gantt') => {\r\n  return `${prefixCls}-${str}`;\r\n}\r\n\r\nexport const handleDrag = (element, { onDragBefore, onDraging, onDragEnd }, step) => {\r\n  let positionX = 0;\r\n  let accumulatedMove = 0;  // 累计移动的距离\r\n\r\n  const handleMouseMove = (ev) => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n\r\n    const moveX = ev.clientX;\r\n    const deltaX = moveX - positionX; // 当前鼠标相对初始位置的位移\r\n\r\n    if (step) {\r\n      accumulatedMove += deltaX;  // 累积移动的距离\r\n      positionX = ev.clientX;  // 更新初始位置为当前鼠标位置\r\n\r\n      // 判断是否超过步长，如果超过，更新宽度\r\n      if (Math.abs(accumulatedMove) >= step) {\r\n        const steps = Math.floor(accumulatedMove / step);  // 计算完整步长的数量\r\n        onDraging?.(steps);\r\n        accumulatedMove = 0;  // 重置累计移动距离\r\n      }\r\n    } else {\r\n      onDraging?.(deltaX, ev);\r\n    }\r\n  }\r\n\r\n  const handleMouseUp = (event) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    onDragEnd?.();\r\n    window.removeEventListener('mousemove', handleMouseMove);\r\n    window.removeEventListener('mouseup', handleMouseUp);\r\n  }\r\n\r\n  const handleMouseDown = (event) => {\r\n    onDragBefore?.(event);\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    positionX = event.clientX;\r\n    accumulatedMove = 0; // 重置累计移动距离 \r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('mouseup', handleMouseUp);\r\n  }\r\n\r\n  element.addEventListener('mousedown', handleMouseDown)\r\n}\r\n\r\n// 给元素添加hover事件\r\nexport const useHover = (element, callback) => {\r\n  let isHover = false;\r\n\r\n  const handleMouseEnter = (event) => {\r\n    isHover = true;\r\n    callback?.(isHover, event);\r\n  }\r\n\r\n  const handleMouseLeave = (event) => {\r\n    isHover = false;\r\n    callback?.(isHover, event);\r\n  }\r\n\r\n  element.addEventListener('mouseenter', handleMouseEnter);\r\n  element.addEventListener('mouseleave', handleMouseLeave);\r\n}\r\n\r\n// 使宽度按步长调整\r\nexport const snap = (width, step) => Math.round(width / step) * step;","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isBetween=i()}(this,(function(){\"use strict\";return function(e,i,t){i.prototype.isBetween=function(e,i,s,f){var n=t(e),o=t(i),r=\"(\"===(f=f||\"()\")[0],u=\")\"===f[1];return(r?this.isAfter(n,s):!this.isBefore(n,s))&&(u?this.isBefore(o,s):!this.isAfter(o,s))||(r?this.isBefore(n,s):!this.isAfter(n,s))&&(u?this.isAfter(o,s):!this.isBefore(o,s))}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_weekday=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,i=this.$W,n=(i<t?i+7:i)-t;return this.$utils().u(e)?n:this.subtract(n,\"day\").add(e,\"day\")}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_weekOfYear=t()}(this,(function(){\"use strict\";var e=\"week\",t=\"year\";return function(i,n,r){var f=n.prototype;f.week=function(i){if(void 0===i&&(i=null),null!==i)return this.add(7*(i-this.week()),\"day\");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var f=r(this).startOf(t).add(1,t).date(n),s=r(this).endOf(e);if(f.isBefore(s))return 1}var a=r(this).startOf(t).date(n).startOf(e).subtract(1,\"millisecond\"),o=this.diff(a,e,!0);return o<0?r(this).startOf(\"week\").week():Math.ceil(o)},f.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}));","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_quarterOfYear=n()}(this,(function(){\"use strict\";var t=\"month\",n=\"quarter\";return function(e,i){var r=i.prototype;r.quarter=function(t){return this.$utils().u(t)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(t-1))};var s=r.add;r.add=function(e,i){return e=Number(e),this.$utils().p(i)===n?this.add(3*e,t):s.bind(this)(e,i)};var u=r.startOf;r.startOf=function(e,i){var r=this.$utils(),s=!!r.u(i)||i;if(r.p(e)===n){var o=this.quarter()-1;return s?this.month(3*o).startOf(t).startOf(\"day\"):this.month(3*o+2).endOf(t).endOf(\"day\")}return u.bind(this)(e,i)}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isLeapYear=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_advancedFormat=t()}(this,(function(){\"use strict\";return function(e,t){var r=t.prototype,n=r.format;r.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return n.bind(this)(e);var s=this.$utils(),a=(e||\"YYYY-MM-DDTHH:mm:ssZ\").replace(/\\[([^\\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case\"Q\":return Math.ceil((t.$M+1)/3);case\"Do\":return r.ordinal(t.$D);case\"gggg\":return t.weekYear();case\"GGGG\":return t.isoWeekYear();case\"wo\":return r.ordinal(t.week(),\"W\");case\"w\":case\"ww\":return s.s(t.week(),\"w\"===e?1:2,\"0\");case\"W\":case\"WW\":return s.s(t.isoWeek(),\"W\"===e?1:2,\"0\");case\"k\":case\"kk\":return s.s(String(0===t.$H?24:t.$H),\"k\"===e?1:2,\"0\");case\"X\":return Math.floor(t.$d.getTime()/1e3);case\"x\":return t.$d.getTime();case\"z\":return\"[\"+t.offsetName()+\"]\";case\"zzz\":return\"[\"+t.offsetName(\"long\")+\"]\";default:return e}}));return n.bind(this)(a)}}}));","/* \r\n * 时间轴\r\n * \r\n * @param {string | HTMLElement} wrapper 容器\r\n * @param {object} options 视图配置，默认为日视图\r\n*/\r\nimport { createElement, addPrefixCls, viewTypeList, getViewTypeConfig, handleDrag } from './utils';\r\nimport dayjs from 'dayjs';\r\nimport isBetween from 'dayjs/plugin/isBetween';\r\nimport weekday from 'dayjs/plugin/weekday';\r\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\r\nimport quarterOfYear from 'dayjs/plugin/quarterOfYear';\r\nimport isLeapYear from 'dayjs/plugin/isLeapYear';\r\nimport advancedFormat from 'dayjs/plugin/advancedFormat';\r\n\r\ndayjs.extend(isBetween);\r\ndayjs.extend(weekday);\r\ndayjs.extend(weekOfYear);\r\ndayjs.extend(quarterOfYear);\r\ndayjs.extend(isLeapYear);\r\ndayjs.extend(advancedFormat);\r\n\r\nclass TimeAxis {\r\n  constructor(wrapper, options = {}) {\r\n    this.$wrapper = this.verify_wrapper(wrapper);\r\n    this.options = options;\r\n    // 视图配置，默认为日视图\r\n    const sightConfig = getViewTypeConfig(options?.viewType) || viewTypeList[0];\r\n    this.sightConfig = sightConfig;\r\n    this.headerWidth = this.$wrapper.clientWidth; // 宽度\r\n    this.headerHeight = 57; // 高度\r\n    // 默认偏移量\r\n    this.translateX = dayjs(this.getStartDate()).valueOf() / (sightConfig.value * 1000);\r\n    // 是否正在移动中\r\n    this._isMoveing = false;\r\n    // 是否显示返回今日按钮\r\n    this._showBackToday = this.options.showBackToday ?? true;\r\n\r\n    this.initDom();\r\n  }\r\n\r\n  verify_wrapper(element) {\r\n    if (typeof element === \"string\") {\r\n      return document.querySelector(element);\r\n    } else if (element instanceof HTMLElement) {\r\n      return element;\r\n    } else {\r\n      throw new TypeError(\"TimeAxis only supports usage of a string CSS selector, HTML DOM element for the 'element' parameter\");\r\n    }\r\n  }\r\n\r\n  // 组装DOM结构\r\n  initDom() {\r\n    const $header = createElement('header', addPrefixCls('header'));\r\n    const $tableHeader = this.createTableHeader();\r\n    const $timeAxisHeader = this.createTimeAxis();\r\n\r\n    $header.appendChild($tableHeader);\r\n    $header.appendChild($timeAxisHeader);\r\n\r\n    // 创建返回今日\r\n    if (this.options.showBackToday) {\r\n      const $backToday = this.createBackToday();\r\n      $header.appendChild($backToday);\r\n      this.$backToday = $backToday;\r\n    }\r\n\r\n    // 创建切换视图\r\n    if (this.options.showViewTypeSwitch) {\r\n      const $viewTypeSelect = this.createChangeViewType();\r\n      $header.appendChild($viewTypeSelect);\r\n    }\r\n\r\n    this.$wrapper.appendChild($header);\r\n    this.$header = $header;\r\n  }\r\n\r\n  // 创建左侧表头\r\n  createTableHeader() {\r\n    const $tableHeader = createElement('div', addPrefixCls('table-header'));\r\n    return $tableHeader;\r\n  }\r\n\r\n  // 创建右侧时间轴\r\n  createTimeAxis() {\r\n    const $timeAxisHeader = this.createTimeAxisHeader();\r\n    const $timeAxis = createElement('div', addPrefixCls('time-axis'));\r\n    // $timeAxis.style.left = `500px`;\r\n    this.$timeAxis = $timeAxis;\r\n    this.renderTimeAxisChunk($timeAxis);\r\n    $timeAxisHeader.appendChild($timeAxis);\r\n    return $timeAxisHeader;\r\n  }\r\n\r\n  // 渲染时间轴块\r\n  renderTimeAxisChunk(wrapper) {\r\n    const $timeAxisRenderChunk = createElement('div', addPrefixCls('time-axis-render-chunk'));\r\n    // 设置水平偏移\r\n    $timeAxisRenderChunk.style.transform = `translateX(-${this.translateX}px)`;\r\n\r\n    this.createTimeAxisMajor($timeAxisRenderChunk);\r\n    this.createTimeAxisMinor($timeAxisRenderChunk);\r\n    // 向wrapper容器中添加之前先清空wrapper\r\n    wrapper.innerHTML = '';\r\n    wrapper.appendChild($timeAxisRenderChunk);\r\n    return $timeAxisRenderChunk;\r\n  }\r\n\r\n  // 创建 header 并处理时间轴滚动\r\n  createTimeAxisHeader() {\r\n    const $timeAxisHeader = createElement('div', addPrefixCls('time-axis-header'));\r\n\r\n    // 绑定拖动事件\r\n    handleDrag($timeAxisHeader, {\r\n      onDragBefore: () => {\r\n        this.isMoveing = true;\r\n      },\r\n      onDraging: (deltaX) => {\r\n        const x = deltaX - this.translateX;\r\n        this.setTranslateX(-x);\r\n      },\r\n      onDragEnd: () => {\r\n        this.isMoveing = false;\r\n      }\r\n    });\r\n\r\n    // 通过事件代理，绑定点击事件\r\n    $timeAxisHeader.addEventListener('click', (e) => {\r\n      const $target = e.target;\r\n\r\n      if (\r\n        $target.className === addPrefixCls('time-axis-major-label') ||\r\n        $target.className === addPrefixCls('time-axis-minor-label')\r\n      ) {\r\n        const dataTime = $target.getAttribute('data-time');\r\n        this.options.onTimelineClick?.(dataTime);\r\n      }\r\n    })\r\n\r\n    return $timeAxisHeader;\r\n  }\r\n\r\n  // 创建主轴DOM\r\n  createTimeAxisMajor(wrapper) {\r\n    const majorList = this.getMajorList();\r\n    // 使用 fragment 优化DOM批量创建\r\n    const fragment = document.createDocumentFragment();\r\n    majorList.forEach((item) => {\r\n      const $major = createElement('div', addPrefixCls('time-axis-major'));\r\n      const $majorLabel = createElement('div', addPrefixCls('time-axis-major-label'));\r\n      $majorLabel.innerText = item.label;\r\n      $majorLabel.setAttribute('data-time', item.label);\r\n      $major.appendChild($majorLabel);\r\n      $major.style.cssText = `width: ${item.width}px; left: ${item.left}px`;\r\n      fragment.appendChild($major);\r\n    })\r\n    wrapper.appendChild(fragment);\r\n  }\r\n\r\n  // 创建次轴DOM\r\n  createTimeAxisMinor(wrapper) {\r\n    const minorList = this.getMinorList();\r\n    const fragment = document.createDocumentFragment();\r\n    minorList.forEach((item) => {\r\n      const $minor = createElement('div', addPrefixCls('time-axis-minor'));\r\n      const $minorLabel = createElement('div', addPrefixCls('time-axis-minor-label'));\r\n      $minorLabel.innerText = item.label;\r\n      $minorLabel.setAttribute('data-time', item.key);\r\n      $minor.appendChild($minorLabel);\r\n      $minor.style.cssText = `width: ${item.width}px; left: ${item.left}px`;\r\n\r\n      // 标识周末\r\n      if (item.isWeek) {\r\n        $minor.setAttribute('isWeek', true)\r\n      }\r\n\r\n      // 标识当天\r\n      if (item.isToday) {\r\n        $minor.setAttribute('curDay', true)\r\n      }\r\n      fragment.appendChild($minor)\r\n    })\r\n    wrapper.appendChild(fragment);\r\n  }\r\n\r\n  // 创建返回今日\r\n  createBackToday() {\r\n    const $backToday = createElement('button', addPrefixCls('time-back-today'));\r\n    $backToday.innerText = '返回今日';\r\n    $backToday.style.display = 'none';\r\n\r\n    $backToday.addEventListener('click', this.scrollToToday.bind(this));\r\n    return $backToday;\r\n  }\r\n\r\n  // 创建切换视图\r\n  createChangeViewType() {\r\n    const $viewTypeSelect = createElement('select', addPrefixCls('view-type-switch'));\r\n\r\n    viewTypeList.forEach((item) => {\r\n      const $option = createElement('option', addPrefixCls('view-type-option'));\r\n      $option.setAttribute('value', item.type)\r\n      $option.innerText = item.label;\r\n      $viewTypeSelect.appendChild($option);\r\n    });\r\n\r\n    // 设置默认值\r\n    $viewTypeSelect.value = this.options?.viewType;\r\n\r\n    $viewTypeSelect.addEventListener('change', (event) => {\r\n      const val = event.target.value;\r\n      this.setViewType(val);\r\n    })\r\n\r\n    return $viewTypeSelect;\r\n  }\r\n\r\n  setViewType(viewType) {\r\n    this.options.viewType = viewType;\r\n    this.sightConfig = getViewTypeConfig(viewType);\r\n    const translateX = dayjs(this.getStartDate()).valueOf() / (this.sightConfig.value * 1000);\r\n    // 执行 setTranslateX，会自动重新渲染\r\n    this.setTranslateX(translateX);\r\n\r\n    this.options.onViewTypeChange?.({ viewType, pxUnitAmp: this.pxUnitAmp });\r\n  }\r\n\r\n  setBackTodayDisplay() {\r\n    // 处理display\r\n    const isOverLeft = this.todayTranslateX < this.translateX;\r\n    const isOverRight = this.todayTranslateX > this.translateX + this.headerWidth;\r\n    const display = (isOverLeft || isOverRight) && this._showBackToday ? 'block' : 'none';\r\n\r\n    this.$backToday.style.display = display;\r\n    // 处理定位\r\n    if (isOverLeft) {\r\n      this.$backToday.style.left = '0px';\r\n      this.$backToday.style.right = 'unset';\r\n    } else {\r\n      this.$backToday.style.left = 'unset';\r\n      this.$backToday.style.right = '111px';\r\n    }\r\n  }\r\n\r\n  // 返回当天\r\n  scrollToToday() {\r\n    const translateX = this.todayTranslateX - this.headerWidth / 2;\r\n    this.setTranslateX(translateX);\r\n  }\r\n\r\n  // 跳转到指定日期\r\n  scrollToDate(date) {\r\n    const translateX = dayjs(date).valueOf() / this.pxUnitAmp - this.headerWidth / 2;\r\n    this.setTranslateX(translateX);\r\n  }\r\n\r\n  /**\r\n * 切换视图类型开关\r\n * @param {boolean} flag - 是否显示视图类型选择器\r\n */\r\n  toggleViewTypeSwitch(flag) {\r\n    if (!this.options.showViewTypeSwitch) return;\r\n    // 获取视图类型选择器元素\r\n    const $viewTypeSelect = this.$header.querySelector(`.${addPrefixCls('view-type-switch')}`);\r\n    if (flag) {\r\n      // 如果需要显示，则设置其显示样式\r\n      $viewTypeSelect.style.display = 'block';\r\n    } else {\r\n      // 如果不需要显示，则设置其隐藏样式\r\n      $viewTypeSelect.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n * 根据传入的标志位控制返回今天按钮的显示状态\r\n * @param {boolean} flag - 控制按钮显示的标志位，true为显示，false为隐藏\r\n */\r\n  toggleBackTodayBtn(flag) {\r\n    if (!this.options.showBackToday) return;\r\n    if (flag) {\r\n      this._showBackToday = true;\r\n      this.$backToday.style.display = 'block';\r\n    } else {\r\n      this._showBackToday = false;\r\n      this.$backToday.style.display = 'none';\r\n    }\r\n  }\r\n\r\n\r\n\r\n  setTranslateX(translateX) {\r\n    this.translateX = Math.max(translateX, 0);\r\n    // 重新渲染时间轴数据\r\n    this.renderTimeAxisChunk(this.$timeAxis);\r\n\r\n    if (this.$backToday) {\r\n      this.setBackTodayDisplay();\r\n    }\r\n\r\n    this.options.onChange?.({\r\n      translateX,\r\n      minorList: this.getMinorList(),\r\n      todayTranslateX: this.todayTranslateX,\r\n      pxUnitAmp: this.pxUnitAmp,\r\n    });\r\n  }\r\n\r\n  // 获取视图宽度对应的毫秒数\r\n  getDurationAmp() {\r\n    const clientWidth = this.headerWidth;\r\n    return this.pxUnitAmp * clientWidth;\r\n  }\r\n\r\n  // 获取主轴数据\r\n  getMajorList() {\r\n    const majorFormatMap = {\r\n      day: 'YYYY年MM月',\r\n      week: 'YYYY年MM月',\r\n      month: 'YYYY年',\r\n      quarter: 'YYYY年',\r\n      halfYear: 'YYYY年',\r\n    };\r\n    // 获取当前开始时间毫秒数\r\n    const { translateAmp } = this;\r\n    // 获取结束时间的毫秒数\r\n    const endAmp = translateAmp + this.getDurationAmp();\r\n    // 获取当前视图类型\r\n    const { type } = this.sightConfig;\r\n    // 当前视图格式化类型\r\n    const format = majorFormatMap[type];\r\n\r\n    // 初始化当前时间\r\n    let curDate = dayjs(translateAmp);\r\n    // 主轴数据列表\r\n    const dates = [];\r\n\r\n    // 获取日期的开始时间\r\n    const getStart = (date) => {\r\n      if (type === 'day' || type === 'week') {\r\n        return date.startOf('month');\r\n      }\r\n      return date.startOf('year');\r\n    };\r\n\r\n    // 获取日期的结束时间\r\n    const getEnd = (date) => {\r\n      // 如果类型为天或周，则返回月末时间\r\n      if (type === 'day' || type === 'week') {\r\n        return date.endOf('month');\r\n      }\r\n      // 否则返回年末时间\r\n      return date.endOf('year');\r\n    };\r\n\r\n    /**\r\n     * 获取下一个日期\r\n     * @param {date} start - 起始日期\r\n     * @returns {date} - 返回下一个日期\r\n    */\r\n    const getNextDate = (start) => {\r\n      // 如果类型为天或周，则加上一个月\r\n      if (type === 'day' || type === 'week') {\r\n        return start.add(1, 'month');\r\n      }\r\n      // 否则加上一年\r\n      return start.add(1, 'year');\r\n    };\r\n\r\n    // 对可视区域内的时间进行迭代\r\n    while (curDate.isBetween(translateAmp - 1, endAmp + 1)) {\r\n      const majorKey = curDate.format(format);\r\n\r\n      let start = curDate;\r\n      const end = getEnd(start);\r\n\r\n      if (dates.length !== 0) {\r\n        start = getStart(curDate);\r\n      }\r\n\r\n      dates.push({\r\n        label: majorKey,\r\n        startDate: start,\r\n        endDate: end,\r\n      });\r\n\r\n      // 获取下次迭代的时间\r\n      start = getStart(curDate);\r\n      curDate = getNextDate(start);\r\n    }\r\n\r\n    return this.majorAmp2Px(dates);\r\n  }\r\n\r\n  majorAmp2Px(ampList) {\r\n    const { pxUnitAmp } = this;\r\n    const list = ampList.map((item) => {\r\n      const { startDate } = item;\r\n      const { endDate } = item;\r\n      const { label } = item;\r\n      const left = startDate.valueOf() / pxUnitAmp;\r\n      const width = (endDate.valueOf() - startDate.valueOf()) / pxUnitAmp;\r\n\r\n      return {\r\n        label,\r\n        left,\r\n        width,\r\n        key: startDate.format('YYYY-MM-DD HH:mm:ss'),\r\n      };\r\n    });\r\n    return list;\r\n  }\r\n\r\n  // 获取次轴数据\r\n  getMinorList() {\r\n    const minorFormatMap = {\r\n      day: 'YYYY-MM-D',\r\n      week: 'YYYY-w周',\r\n      month: 'YYYY-MM月',\r\n      quarter: 'YYYY-第Q季',\r\n      halfYear: 'YYYY-',\r\n    };\r\n    // 上半年的月份\r\n    const fstHalfYear = [0, 1, 2, 3, 4, 5];\r\n    const startAmp = this.translateAmp;\r\n    const endAmp = startAmp + this.getDurationAmp();\r\n    const format = minorFormatMap[this.sightConfig.type];\r\n\r\n    // 初始化当前时间\r\n    let curDate = dayjs(startAmp);\r\n    // 次轴数据\r\n    const dates = [];\r\n\r\n    const getMinorKey = (date) => {\r\n      if (this.sightConfig.type === 'halfYear') {\r\n        return (\r\n          date.format(format) +\r\n          (fstHalfYear.includes(date.month()) ? '上半年' : '下半年')\r\n        );\r\n      }\r\n\r\n      return date.format(format);\r\n    };\r\n\r\n    const setStart = (date) => {\r\n      const map = {\r\n        day() {\r\n          // 返回当天的起始时间\r\n          return date.startOf('day');\r\n        },\r\n        week() {\r\n          // 返回本周一的起始时间\r\n          return date.weekday(1).hour(0).minute(0).second(0);\r\n        },\r\n        month() {\r\n          // 返回当月的起始时间\r\n          return date.startOf('month');\r\n        },\r\n        quarter() {\r\n          // 返回当季度的起始时间\r\n          return date.startOf('quarter');\r\n        },\r\n        halfYear() {\r\n          // 判断是否为上半年，如果是则返回上半年的起始时间，否则返回下半年的起始时间\r\n          if (fstHalfYear.includes(date.month())) {\r\n            return date.month(0).startOf('month');\r\n          }\r\n          return date.month(6).startOf('month');\r\n        },\r\n      };\r\n\r\n      // 根据sightConfig对象中的type属性选择对应的起始日期处理函数并执行，然后返回起始日期对象\r\n      return map[this.sightConfig.type]();\r\n    };\r\n\r\n    // 根据给定的起始时间，返回对应类型的结束时间\r\n    const setEnd = (start) => {\r\n      const map = {\r\n        day() {\r\n          // 返回当天的最后一秒\r\n          return start.endOf('day');\r\n        },\r\n        week() {\r\n          // 返回本周日的最后一秒\r\n          return start.weekday(7).hour(23).minute(59).second(59);\r\n        },\r\n        month() {\r\n          // 返回当月的最后一秒\r\n          return start.endOf('month');\r\n        },\r\n        quarter() {\r\n          // 返回当季度的最后一秒\r\n          return start.endOf('quarter');\r\n        },\r\n        halfYear() {\r\n          // 判断是否为上半年，并返回对应半年的最后一秒\r\n          if (fstHalfYear.includes(start.month())) {\r\n            return start.month(5).endOf('month');\r\n          }\r\n          return start.month(11).endOf('month');\r\n        },\r\n      };\r\n\r\n      // 根据 sightConfig.type 调用对应的结束时间计算函数\r\n      return map[this.sightConfig.type]();\r\n    };\r\n\r\n    const getNextDate = (start) => {\r\n      const map = {\r\n        day() {\r\n          return start.add(1, 'day');\r\n        },\r\n        week() {\r\n          return start.add(1, 'week');\r\n        },\r\n        month() {\r\n          return start.add(1, 'month');\r\n        },\r\n        quarter() {\r\n          return start.add(1, 'quarter');\r\n        },\r\n        halfYear() {\r\n          return start.add(6, 'month');\r\n        },\r\n      };\r\n\r\n      return map[this.sightConfig.type]();\r\n    };\r\n\r\n    while (curDate.isBetween(startAmp - 1, endAmp + 1)) {\r\n      const minorKey = getMinorKey(curDate);\r\n      const start = setStart(curDate);\r\n      const end = setEnd(start);\r\n      dates.push({\r\n        label: minorKey.split('-').pop(),\r\n        startDate: start,\r\n        endDate: end,\r\n      });\r\n      curDate = getNextDate(start);\r\n    }\r\n\r\n    return this.minorAmp2Px(dates);\r\n  }\r\n\r\n  minorAmp2Px(ampList) {\r\n    const { pxUnitAmp } = this;\r\n    const list = ampList.map((item) => {\r\n      const startDate = item.startDate;\r\n      const endDate = item.endDate;\r\n\r\n      const { label } = item;\r\n      const left = startDate.valueOf() / pxUnitAmp;\r\n      const width = (endDate.valueOf() - startDate.valueOf()) / pxUnitAmp;\r\n\r\n      let isWeek = false;\r\n      // const isToday = dayjs().isSame(dayjs(startDate), 'day');\r\n      const isToday = this.isToday(startDate);\r\n      if (this.sightConfig.type === 'day') {\r\n        isWeek = this.isRestDay(startDate.toString());\r\n      }\r\n      return {\r\n        label,\r\n        left,\r\n        width,\r\n        isWeek,\r\n        isToday,\r\n        key: startDate.format('YYYY-MM-DD HH:mm:ss'),\r\n      };\r\n    });\r\n    return list;\r\n  }\r\n\r\n  // 获取开始时间\r\n  getStartDate() {\r\n    return dayjs().subtract(10, 'day').toString();\r\n  }\r\n\r\n  // 1px对应的毫秒数\r\n  get pxUnitAmp() {\r\n    return this.sightConfig.value * 1000;\r\n  }\r\n\r\n  // 当前开始时间毫秒数\r\n  get translateAmp() {\r\n    const { translateX } = this;\r\n    return this.pxUnitAmp * translateX;\r\n  }\r\n\r\n  // 当天日期的偏移量\r\n  get todayTranslateX() {\r\n    return dayjs().startOf('day').valueOf() / this.pxUnitAmp;\r\n  }\r\n\r\n  get isMoveing() {\r\n    return this._isMoveing;\r\n  }\r\n\r\n  // 定义 setter，监听属性值的变化\r\n  set isMoveing(value) {\r\n    if (this._isMoveing !== value) {\r\n      this._isMoveing = value;\r\n      this.onMoveingChange(this.isMoveing);\r\n    }\r\n  }\r\n\r\n  onMoveingChange(isMoveing) {\r\n    if (isMoveing) {\r\n      this.$timeAxis.style.cursor = 'col-resize';\r\n      // 时间轴在滚动时，不显示今日\r\n      if (this.$backToday) {\r\n        this.$backToday.style.opacity = 0;\r\n      }\r\n    } else {\r\n      this.$timeAxis.removeAttribute('style');\r\n      if (this.$backToday) {\r\n        this.$backToday.style.opacity = 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 判断是否为休息日\r\n  isRestDay(date) {\r\n    // dayjs(date).weekday() 获取日期对象的星期几（返回值范围是0到6，其中0代表周日，6代表周六）\r\n    return [0, 6].includes(dayjs(date).weekday());\r\n  }\r\n\r\n  // 判断是否为今天\r\n  isToday(date) {\r\n    const today = dayjs().startOf('day'); // 今天的日期开始时间\r\n\r\n    let res = false;\r\n    if (this.sightConfig.type === 'day') {\r\n      res = date.isSame(today, 'day');\r\n    } else if (this.sightConfig.type === 'week') {\r\n      res = date.isSame(today, 'week');\r\n    } else if (this.sightConfig.type === 'month') {\r\n      res = date.isSame(today, 'month');\r\n    } else if (this.sightConfig.type === 'quarter' || this.sightConfig.type === 'halfYear') {\r\n      res = date.isSame(today, 'quarter');\r\n    }\r\n\r\n    return res; // 判断是否是同一天\r\n  }\r\n}\r\n\r\nexport default TimeAxis;","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param {Function} func - The function to be wrapped and called.\n * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param {Function} func - The constructor function to be wrapped and called.\n * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param {Object} set - The set to which elements will be added.\n * @param {Array} array - The array containing elements to be added to the set.\n * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns {Object} The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param {Array} array - The array to be cleaned.\n * @returns {Array} The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param {Object} object - The object to be cloned.\n * @returns {Object} A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param {Object} object - The object to look up the getter function in its prototype chain.\n * @param {String} prop - The property name for which to find the getter function.\n * @returns {Function} The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n// SVG\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  ERB_EXPR: ERB_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR,\n  DATA_ATTR: DATA_ATTR,\n  ARIA_ATTR: ARIA_ATTR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT\n});\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = '3.1.7';\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n    // eslint-disable-line indent\n    cfg.ADD_URI_SAFE_ATTR,\n    // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n    // eslint-disable-line indent\n    cfg.ADD_DATA_URI_TAGS,\n    // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  const HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n\n  /**\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node\n      });\n    }\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param  {Node} root The root element or node to start traversing on.\n   * @return {NodeIterator} The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(elm) {\n    return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param  {Node} object object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function _isNode(object) {\n    return typeof Node === 'function' && object instanceof Node;\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n    arrayForEach(hooks[entryPoint], hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param {string} tagName name of the tag of the node to sanitize\n   * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} cfg object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {String} tag Tag name of containing element.\n   * @param  {String} attr Attribute name.\n   * @param  {String} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","/* \r\n  图表\r\n*/\r\n\r\nimport { addPrefixCls, createElement, createSvgElement, HEADER_HEIGHT, TOP_PADDING, handleDrag, ONE_DAY_MS, useHover } from \"./utils\";\r\nimport throttle from 'lodash/throttle';\r\nimport dayjs from \"dayjs\";\r\nimport DOMPurify from 'dompurify';\r\n\r\nclass Chart {\r\n  constructor(wrapper, options = {}) {\r\n    this.$wrapper = this.verify_wrapper(wrapper);\r\n    this.options = options;\r\n    // 1px对应的毫秒数\r\n    this.pxUnitAmp = dayjs().startOf('day').valueOf() / this.options.todayTranslateX;\r\n    // 记录垂直滚动距离\r\n    this.scrollTop = 0;\r\n    // 垂直虚拟滚动开始索引\r\n    this.virtualStartIndex = 0;\r\n    // 是否在设置任务进度\r\n    this.isSetProgressIng = false;\r\n\r\n    this.initDom()\r\n  }\r\n\r\n  verify_wrapper(element) {\r\n    if (typeof element === \"string\") {\r\n      return document.querySelector(element);\r\n    } else if (element instanceof HTMLElement) {\r\n      return element;\r\n    } else {\r\n      throw new TypeError(\"Chart only supports usage of a string CSS selector, HTML DOM element for the 'element' parameter\");\r\n    }\r\n  }\r\n\r\n  initDom() {\r\n    const $chartWrapper = createElement('main', addPrefixCls('chart-wrapper'));\r\n    $chartWrapper.style.height = `${this.bodyClientHeight}px`;\r\n    // 给 $chartWrapper 绑定垂直滚动事件\r\n    $chartWrapper.addEventListener('scroll', this.handleScroll.bind(this));\r\n\r\n    this.createGanttChart($chartWrapper);\r\n    this.$wrapper.appendChild($chartWrapper);\r\n\r\n    this.handleTaskItemInView();\r\n  }\r\n\r\n  // 绑定水平滚动事件，通过事件代理处理各个事件\r\n  createGanttChart(wrapper) {\r\n    const $ganttChart = createElement('div', addPrefixCls('chart'));\r\n    $ganttChart.style.width = `${this.bodyClientWidth}px`;\r\n    $ganttChart.style.height = `${this.bodyScrollHeight}px`;\r\n    this.$ganttChart = $ganttChart;\r\n    // 绑定鼠标滚轮事件\r\n    $ganttChart.addEventListener('wheel', this.handleWheel.bind(this));\r\n\r\n    // 绑定鼠标拖动事件\r\n    handleDrag($ganttChart, {\r\n      onDragBefore: (event) => {\r\n        const targetClassName = event.target.className;\r\n        if (targetClassName !== addPrefixCls('task-row-style-bar')) {\r\n          return\r\n        }\r\n\r\n        $ganttChart.style.cursor = 'col-resize';\r\n      },\r\n      onDraging: (x) => {\r\n        this.options.onWheel?.(-x);\r\n      },\r\n      onDragEnd: () => {\r\n        $ganttChart.style.cursor = 'default';\r\n      },\r\n    });\r\n\r\n    // 通过事件代理，绑定点击事件\r\n    $ganttChart.addEventListener('click', (event) => {\r\n      const target = event.target;\r\n      // console.log(target);\r\n\r\n      if (\r\n        target.className === addPrefixCls('task-item-content') ||\r\n        target.className === addPrefixCls('task-item-handle-wrapper')\r\n      ) {\r\n        const taskItem = target.parentNode;\r\n        const taskItemId = taskItem.getAttribute('data-task-id') * 1;\r\n        // 根据 taskId 获取task数据\r\n        const taskData = this.getTaskDataById(taskItemId);\r\n        this.options.onTaskBarClick?.(taskData);\r\n      }\r\n\r\n      if (\r\n        target.className === addPrefixCls('task-item-go-back-left-btn') ||\r\n        target.className === addPrefixCls('task-item-go-back-right-btn')\r\n      ) {\r\n        // 添加过渡效果\r\n        this.$taskBarRenderChunk.style.transition = 'transform 0.4s';\r\n        const translateX = target.getAttribute('data-translatex');\r\n        this.options.onArrowBtnClick?.({\r\n          translateX: translateX - this.bodyClientWidth / 2,\r\n        });\r\n        // 移除过渡效果\r\n        setTimeout(() => {\r\n          this.$taskBarRenderChunk.style.transition = 'none';\r\n        }, 500)\r\n      }\r\n    })\r\n\r\n    // 创建SVG背景\r\n    this.createSvgBg($ganttChart);\r\n    // 创建横条纹管道\r\n    this.createTaskBarRenderChunk($ganttChart);\r\n    // 创建拖动展示遮罩元素\r\n    if (this.options.showDragMask) {\r\n      this.createDragMask($ganttChart);\r\n    }\r\n    wrapper.appendChild($ganttChart);\r\n  }\r\n\r\n  // 处理鼠标滚轮事件，注意 this 发生了变化\r\n  handleWheel(event) {\r\n    if (event.deltaX !== 0) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    // 水平滚动，需要修改 TranslateX，重新渲染\r\n    if (Math.abs(event.deltaX) > 0) {\r\n      this.options.onWheel?.(event.deltaX);\r\n    }\r\n  }\r\n\r\n  // 创建拖动遮罩元素\r\n  createDragMask(wrapper) {\r\n    const $dragMaskWrap = createElement('div', addPrefixCls('drag-mask-wrapper'));\r\n    $dragMaskWrap.style.cssText = `height: ${this.bodyScrollHeight}px; transform: translateX(-${this.options.translateX}px`;\r\n\r\n    const $dragMask = createElement('div', addPrefixCls('drag-mask'));\r\n    // 显示开始时间\r\n    const $dragMaskStart = createElement('div', addPrefixCls('drag-mask-start'));\r\n    // 显示结束时间\r\n    const $dragMaskEnd = createElement('div', addPrefixCls('drag-mask-end'));\r\n\r\n    $dragMask.appendChild($dragMaskStart);\r\n    $dragMask.appendChild($dragMaskEnd);\r\n    $dragMaskWrap.appendChild($dragMask);\r\n    wrapper.appendChild($dragMaskWrap);\r\n    this.$dragMaskWrap = $dragMaskWrap;\r\n    this.$dragMask = $dragMask;\r\n  }\r\n\r\n  // 创建 SVG 背景\r\n  createSvgBg(wrapper) {\r\n    // 创建一个SVG元素\r\n    const {\r\n      translateX,\r\n      minorList,\r\n    } = this.options;\r\n\r\n    const $svg = createSvgElement('svg', {\r\n      width: this.bodyClientWidth,\r\n      height: this.bodyScrollHeight,\r\n      viewBox: `${translateX} 0 ${this.bodyClientWidth} ${this.bodyScrollHeight}`,\r\n      class: addPrefixCls('chart-svg-renderer'),\r\n    });\r\n    this.$svg = $svg;\r\n\r\n    this.createVerticalStripe(minorList);\r\n\r\n    wrapper.appendChild($svg);\r\n  }\r\n\r\n  // 创建SVG竖条纹\r\n  createVerticalStripe(minorList) {\r\n    // 先清空再创建\r\n    this.$svg.innerHTML = '';\r\n\r\n    const {\r\n      lineColor,\r\n      weekBarBg,\r\n    } = this.options;\r\n\r\n    const fragment = document.createDocumentFragment();\r\n    minorList?.forEach((item) => {\r\n      // 创建group元素\r\n      const $g = createSvgElement('g', {\r\n        stroke: lineColor, // 设置线条颜色\r\n      })\r\n\r\n      // 创建path\r\n      const $path = createSvgElement('path', {\r\n        d: `M${item.left},0 L${item.left},${this.bodyScrollHeight}`,\r\n      });\r\n      $g.appendChild($path);\r\n      // 如果是周末创建rect\r\n      if (item.isWeek) {\r\n        const $rect = createSvgElement('rect', {\r\n          x: item.left,\r\n          y: 0,\r\n          width: item.width,\r\n          height: this.bodyScrollHeight,\r\n          fill: weekBarBg, // 周末条的背景颜色\r\n          strokeWidth: 0,\r\n        });\r\n        $g.appendChild($rect);\r\n      }\r\n\r\n      fragment.appendChild($g);\r\n    })\r\n    this.$svg.appendChild(fragment);\r\n  }\r\n\r\n  // 创建任务条区域\r\n  createTaskBarRenderChunk(wrapper) {\r\n    const $taskBarRenderChunk = createElement('div', addPrefixCls('task-bar-render-chunk'));\r\n    $taskBarRenderChunk.style.cssText = `height: ${this.bodyScrollHeight}px; transform: translateX(-${this.options.translateX}px`;\r\n    this.$taskBarRenderChunk = $taskBarRenderChunk;\r\n    // 渲染 taskBar\r\n    this.renderTaskBar();\r\n    wrapper.appendChild($taskBarRenderChunk);\r\n  }\r\n\r\n  renderTaskBar() {\r\n    const { count, start } = this.getVisibleRows;\r\n    this.$taskBarRenderChunk.innerHTML = '';\r\n    let end = start + count;\r\n    if (end >= this.getBarList.length) {\r\n      end = this.getBarList.length;\r\n    }\r\n\r\n    const fragment = document.createDocumentFragment();\r\n    for (let i = start; i < end; i++) {\r\n      const item = this.getBarList[i];\r\n      const $taskRow = this.createTaskRow();\r\n      $taskRow.style.top = `${i * this.options.rowHeight}px`;\r\n      const $taskRowStyleBar = this.createTaskRowStyleBar();\r\n      const $taskItemWrapper = this.renderTaskItem(item);\r\n\r\n      $taskRow.appendChild($taskRowStyleBar);\r\n      $taskRow.appendChild($taskItemWrapper);\r\n      fragment.appendChild($taskRow);\r\n    }\r\n    this.$taskBarRenderChunk.appendChild(fragment);\r\n    // 创建今日线\r\n    this.createTodayLine();\r\n  }\r\n\r\n  createTaskRow() {\r\n    const $taskRow = createElement('div', addPrefixCls('task-row'));\r\n    $taskRow.style.width = `${this.bodyClientWidth}px`;\r\n    return $taskRow;\r\n  }\r\n\r\n  // 负责渲染 taskRow 的样式\r\n  createTaskRowStyleBar() {\r\n    const $taskRowStyleBar = createElement('div', addPrefixCls('task-row-style-bar'));\r\n    $taskRowStyleBar.style.transform = `translateX(${this.options.translateX}px)`;\r\n    const $taskitemGoBackLeftBtn = this.taskitemGoBackBtnOnLeft();\r\n    const $taskitemGoBackRightBtn = this.taskitemGoBackBtnOnRight();\r\n    $taskRowStyleBar.appendChild($taskitemGoBackLeftBtn);\r\n    $taskRowStyleBar.appendChild($taskitemGoBackRightBtn);\r\n    return $taskRowStyleBar;\r\n  }\r\n\r\n  taskitemGoBackBtnOnLeft() {\r\n    const $btn = createElement('div', addPrefixCls('task-item-go-back-left-btn'));\r\n    $btn.innerHTML = '«';\r\n    return $btn;\r\n  }\r\n\r\n  taskitemGoBackBtnOnRight() {\r\n    const $btn = createElement('div', addPrefixCls('task-item-go-back-right-btn'));\r\n    $btn.innerHTML = '»';\r\n    return $btn;\r\n  }\r\n\r\n  // 渲染每一个任务条\r\n  renderTaskItem(data) {\r\n    const $taskItemWrapper = createElement('div', addPrefixCls('task-item-wrapper'));\r\n    $taskItemWrapper.style.height = `${this.options.rowHeight - 1}px`;\r\n\r\n    // 判断日期是否合法\r\n    const valid = dayjs(data.startDate).isValid() && dayjs(data.endDate).isValid();\r\n    if (!valid) {\r\n      throw new Error(\"startDate or endDate is invalid\");\r\n    }\r\n\r\n    let startAmp = dayjs(data.startDate || 0).startOf('day').valueOf();\r\n    let endAmp = dayjs(data.endDate || 0).endOf('day').valueOf();\r\n    // 最小宽度\r\n    const minStamp = 11 * this.pxUnitAmp;\r\n    // 开始结束日期相同默认一天\r\n    if (Math.abs(endAmp - startAmp) < minStamp) {\r\n      startAmp = dayjs(data.startDate || 0).startOf('day').valueOf();\r\n      endAmp = dayjs(data.endDate || 0).endOf('day').add(minStamp, 'millisecond').valueOf();\r\n    }\r\n    // 计算宽度\r\n    const width = (endAmp - startAmp) / this.pxUnitAmp;\r\n    // 计算偏移\r\n    const translateX = startAmp / this.pxUnitAmp;\r\n\r\n    const $taskItem = createElement('div', addPrefixCls('task-item'));\r\n    $taskItem.setAttribute('data-task-id', data.id);\r\n    $taskItem.style.cssText = `width: ${width}px; transform: translateX(${translateX}px);`;\r\n\r\n    // $taskItem 处理拖拽移动\r\n    handleDrag($taskItem, {\r\n      onDraging: (steps) => {\r\n        this.$ganttChart.style.pointerEvents = 'none';  // 禁用点击事件，防止拖拽移动之后，触发子元素的点击事件\r\n        const taskItemTranslateX = parseFloat($taskItem.getAttribute('style').match(/translateX\\(([-\\d.]+)px/)[1]);\r\n        let newTranslateX = taskItemTranslateX + steps * this.step;\r\n        $taskItem.style.transform = `translateX(${newTranslateX}px)`;\r\n\r\n        // 显示遮罩\r\n        if (this.options.showDragMask) {\r\n          const top = parseFloat($taskItem.parentElement.parentElement.style.top);\r\n          this.showDragMask($taskItem.offsetWidth, newTranslateX, top);\r\n        }\r\n      },\r\n      onDragEnd: () => {\r\n        this.$ganttChart.style.pointerEvents = '';  // 恢复点击事件\r\n        // 隐藏遮罩\r\n        if (this.options.showDragMask) {\r\n          this.$dragMask.style.display = 'none';\r\n        }\r\n        // 移动之后，更新 tasks 数据\r\n        this.dragAfterSetDate($taskItem);\r\n      },\r\n    }, this.step);\r\n\r\n    // 调整进度部分\r\n    const $taskItemProgressWrapper = this.taskItemProgressWrapper(data);\r\n    $taskItem.appendChild($taskItemProgressWrapper);\r\n\r\n    // 内容部分\r\n    const $taskItemContent = this.taskItemContent(data);\r\n    $taskItem.appendChild($taskItemContent);\r\n\r\n    // resize部分\r\n    const $taskItemHandleWrapper = this.taskItemHandleWrapper();\r\n    $taskItem.appendChild($taskItemHandleWrapper);\r\n\r\n    // tooltip部分\r\n    // $taskItem 处理 hover 事件\r\n    let $taskItemTooltip = null;\r\n    useHover($taskItem, (isHover) => {\r\n      const $taskItemProgressHandle = $taskItem.querySelector(`.${addPrefixCls('task-item-progress-handle')}`);\r\n\r\n      if (isHover) {\r\n        if (this.options.showTooltip && this.isSetProgressIng === false) {\r\n          // 动态创建 tooltip，保证最新数据\r\n          const taskItemId = $taskItem.getAttribute('data-task-id') * 1;\r\n          const taskData = this.getTaskDataById(taskItemId);\r\n          $taskItemTooltip = this.taskItemTooltip(taskData);\r\n          $taskItem.appendChild($taskItemTooltip);\r\n          $taskItemTooltip.parentElement.parentElement.style.zIndex = '9999999999999';\r\n        }\r\n\r\n        $taskItemProgressHandle.style.display = 'block';\r\n      } else {\r\n        if ($taskItemTooltip) {\r\n          $taskItemTooltip.parentElement.parentElement.style.zIndex = 'unset';\r\n          // 删除 tooltip\r\n          $taskItemTooltip?.remove();\r\n          $taskItemTooltip = null;\r\n        }\r\n\r\n        if (this.isSetProgressIng === false) {\r\n          $taskItemProgressHandle.style.display = 'none';\r\n        }\r\n      }\r\n    })\r\n\r\n    $taskItemWrapper.appendChild($taskItem);\r\n    return $taskItemWrapper;\r\n  }\r\n\r\n  // 创建 taskItem 的进度条部分\r\n  taskItemProgressWrapper({ progress }) {\r\n    const $taskItemProgressWrapper = createElement('div', addPrefixCls('task-item-progress-wrapper'));\r\n    $taskItemProgressWrapper.style.background = `linear-gradient(to right, transparent ${progress * 100}%, rgba(0, 0, 0, 0.1) ${progress * 100}% 100%)`;\r\n\r\n    const $taskItemProgressText = createElement('span', addPrefixCls('task-item-progress-text'));\r\n    $taskItemProgressText.innerHTML = `${Math.round(progress * 100)}%`;\r\n    $taskItemProgressWrapper.appendChild($taskItemProgressText);\r\n\r\n    const $taskItemProgressHandle = this.taskItemProgressHandle(progress);\r\n    $taskItemProgressWrapper.appendChild($taskItemProgressHandle);\r\n    return $taskItemProgressWrapper;\r\n  }\r\n\r\n  // 创建进度调节按钮\r\n  taskItemProgressHandle(progress) {\r\n    const $taskItemProgressHandle = createElement('div', addPrefixCls('task-item-progress-handle'));\r\n    $taskItemProgressHandle.innerHTML = '▲';\r\n    // 设置初始位置\r\n    $taskItemProgressHandle.style.left = `${Math.round(progress * 100)}%`;\r\n\r\n    // 监听拖动事件\r\n    let $taskItem = null;\r\n    let $taskItemHandleWrapper = null;\r\n    let $taskItemProgressText = null;\r\n    let $taskItemProgressWrapper = null;\r\n    handleDrag($taskItemProgressHandle, {\r\n      onDragBefore: (ev) => {\r\n        this.isSetProgressIng = true;\r\n        $taskItem = ev.target.parentElement.parentElement;\r\n        $taskItemHandleWrapper = $taskItem.querySelector(`.${addPrefixCls('task-item-handle-wrapper')}`);\r\n        $taskItemProgressText = ev.target.previousElementSibling;\r\n        $taskItemProgressWrapper = ev.target.parentElement;\r\n        const $taskItemTooltipWrapper = $taskItem.querySelector(`.${addPrefixCls('task-item-tooltip-wrapper')}`);\r\n\r\n        $taskItemHandleWrapper.style.display = 'none';\r\n        $taskItemTooltipWrapper.style.display = 'none';\r\n        $taskItemProgressHandle.style.display = 'block';\r\n      },\r\n      onDraging: (deltaX, ev) => {\r\n        const { left, right, width } = $taskItem.getBoundingClientRect();\r\n\r\n        if (ev.clientX >= left && ev.clientX <= right) {\r\n          // 计算进度\r\n          const progress = (ev.clientX - left) / width;\r\n          let progressPercent = `${Math.round(progress * 100)}%`;\r\n\r\n          $taskItemProgressText.style.display = 'block';\r\n          $taskItemProgressText.innerHTML = progressPercent;\r\n          $taskItemProgressWrapper.style.background = `linear-gradient(to right, transparent ${progressPercent}, rgba(0, 0, 0, 0.1) ${progressPercent} 100%)`;\r\n          $taskItemProgressHandle.style.left = progressPercent;\r\n\r\n          // 修改数据\r\n          this.updateTaskData({\r\n            id: $taskItem.getAttribute('data-task-id'),\r\n            progress: progress,\r\n          });\r\n        }\r\n      },\r\n      onDragEnd: () => {\r\n        $taskItemHandleWrapper.removeAttribute('style');\r\n        $taskItemProgressText.style.display = 'none';\r\n        $taskItemProgressHandle.style.display = 'none';\r\n\r\n        $taskItem = null;\r\n        $taskItemHandleWrapper = null;\r\n        $taskItemProgressText = null;\r\n        $taskItemProgressWrapper = null;\r\n        this.isSetProgressIng = false;\r\n      },\r\n    });\r\n\r\n    return $taskItemProgressHandle;\r\n  }\r\n\r\n  // 创建 taskItem 的内容部分\r\n  taskItemContent(data) {\r\n    const $taskItemContent = createElement('div', addPrefixCls('task-item-content'));\r\n    const taskItemContentStr = this.options.renderTaskbarContent?.(data);\r\n    if (taskItemContentStr) {\r\n      $taskItemContent.innerHTML = DOMPurify.sanitize(taskItemContentStr);\r\n    } else {\r\n      $taskItemContent.innerHTML = `<div class=\"${addPrefixCls('task-item-content-item')}\">${data.title}</div>`;\r\n    }\r\n    return $taskItemContent;\r\n  }\r\n\r\n  // 创建 taskItem 的调整大小部分\r\n  taskItemHandleWrapper() {\r\n    const $taskItemHandleWrapper = createElement('div', addPrefixCls('task-item-handle-wrapper'));\r\n    // 左侧把手\r\n    const $resizeHolderLeft = this.taskItemResizeHolderLeft();\r\n    // 右侧把手\r\n    const $resizeHolderRight = this.taskItemResizeHolderRight();\r\n    $taskItemHandleWrapper.appendChild($resizeHolderLeft);\r\n    $taskItemHandleWrapper.appendChild($resizeHolderRight);\r\n    return $taskItemHandleWrapper;\r\n  }\r\n\r\n  // 创建 taskItem 的 tooltip\r\n  taskItemTooltip(data) {\r\n    const $tooltipWrap = createElement('div', addPrefixCls('task-item-tooltip-wrapper'));\r\n    const tooltipStr = this.options.renderTooltip?.(data);\r\n    if (tooltipStr) {\r\n      // 使用 DOMPurify 进行 XSS 过滤\r\n      $tooltipWrap.innerHTML = DOMPurify.sanitize(tooltipStr);\r\n    } else {\r\n      $tooltipWrap.innerHTML = `<div class=\"${addPrefixCls('task-item-tooltip')}\">任务名称：${data.title}</div>`;\r\n    }\r\n    return $tooltipWrap;\r\n  }\r\n\r\n  taskItemResizeHolderLeft() {\r\n    const $resizeHolder = createElement('div', addPrefixCls('task-itme-resize-holder-left'));\r\n    $resizeHolder.innerHTML = \"‖\";\r\n    // 左边\r\n    handleDrag($resizeHolder, {\r\n      onDraging: (steps) => {\r\n        const $holderWrap = $resizeHolder.parentElement;\r\n        const $taskItem = $resizeHolder.parentElement.parentElement;\r\n        const $taskItemWidth = $taskItem.offsetWidth;\r\n        const taskItemTranslateX = parseFloat($taskItem.getAttribute('style').match(/translateX\\(([-\\d.]+)px/)[1]);\r\n\r\n        this.$ganttChart.style.pointerEvents = 'none';  // 禁用点击事件，防止拖拽移动之后，触发子元素的点击事件\r\n\r\n        $holderWrap.style.display = 'block';\r\n\r\n        // 修改宽度\r\n        let newWidth = $taskItemWidth - steps * this.step;\r\n        // 设置最小宽度以避免元素缩得太小\r\n        newWidth = Math.max(newWidth, this.step);\r\n\r\n        // 修改偏移\r\n        let newTranslateX = taskItemTranslateX + steps * this.step;\r\n        const endTranslateX = taskItemTranslateX + $taskItemWidth;\r\n        if (newTranslateX >= endTranslateX) {\r\n          newTranslateX = endTranslateX - this.step;\r\n        }\r\n\r\n        $taskItem.style.cssText = `width: ${newWidth}px; transform: translateX(${newTranslateX}px)`;\r\n\r\n        if (this.options.showDragMask) {\r\n          const top = parseFloat($taskItem.parentElement.parentElement.style.top);\r\n          this.showDragMask(newWidth, newTranslateX, top);\r\n        }\r\n      },\r\n      onDragEnd: () => {\r\n        const $holderWrap = $resizeHolder.parentElement;\r\n        $holderWrap.removeAttribute('style');\r\n        this.$ganttChart.style.pointerEvents = '';  // 恢复点击事件\r\n        // 拖拽结束，更新 tasks 数据\r\n        const $taskItem = $resizeHolder.parentElement.parentElement;\r\n        this.dragAfterSetDate($taskItem);\r\n        if (this.options.showDragMask) {\r\n          this.$dragMask.style.display = 'none';\r\n        }\r\n      },\r\n    }, this.step);\r\n    return $resizeHolder;\r\n  }\r\n\r\n  taskItemResizeHolderRight() {\r\n    const $resizeHolder = createElement('div', addPrefixCls('task-itme-resize-holder-right'));\r\n    $resizeHolder.innerHTML = \"‖\";\r\n\r\n    // 右边，x不变，只变宽度\r\n    handleDrag($resizeHolder, {\r\n      onDraging: (steps) => {\r\n        this.$ganttChart.style.pointerEvents = 'none';  // 禁用点击事件，防止拖拽移动之后，触发子元素的点击事件\r\n        const $holderWrap = $resizeHolder.parentElement;\r\n        $holderWrap.style.display = 'block';\r\n        const $taskItem = $resizeHolder.parentElement.parentElement;\r\n        const $taskItemWidth = $taskItem.offsetWidth;\r\n        let newWidth = $taskItemWidth + steps * this.step;\r\n        // 设置最小宽度以避免元素缩得太小\r\n        newWidth = Math.max(newWidth, this.step);\r\n        $taskItem.style.width = `${newWidth}px`;\r\n\r\n        if (this.options.showDragMask) {\r\n          const translateX = parseFloat($taskItem.getAttribute('style').match(/translateX\\(([-\\d.]+)px/)[1]);\r\n          const top = parseFloat($taskItem.parentElement.parentElement.style.top);\r\n          this.showDragMask(newWidth, translateX, top);\r\n        }\r\n      },\r\n      onDragEnd: () => {\r\n        const $holderWrap = $resizeHolder.parentElement;\r\n        $holderWrap.removeAttribute('style');\r\n        this.$ganttChart.style.pointerEvents = '';  // 恢复点击事件\r\n        // 拖拽结束，更新 tasks 数据\r\n        const $taskItem = $resizeHolder.parentElement.parentElement;\r\n        this.dragAfterSetDate($taskItem);\r\n        if (this.options.showDragMask) {\r\n          this.$dragMask.style.display = 'none';\r\n        }\r\n      },\r\n    }, this.step)\r\n    return $resizeHolder;\r\n  }\r\n\r\n  /**\r\n   * 显示拖拽遮罩\r\n   * @param {number} width - 遮罩宽度\r\n   * @param {number} translateX - 遮罩水平偏移量\r\n   * @param {number} top - 遮罩显示时间的垂直偏移量\r\n */\r\n  showDragMask(width, translateX, top) {\r\n    this.$dragMask.style.width = `${width}px`;\r\n    // 修改遮罩的偏移量\r\n    this.$dragMask.style.transform = `translateX(${translateX}px)`;\r\n    // 设置遮罩开始时间和结束时间的文本和位置\r\n    const startTime = dayjs(translateX * this.pxUnitAmp).format('YYYY-MM-DD');\r\n    const endTime = dayjs((translateX + width) * this.pxUnitAmp).subtract(1, 'day').format('YYYY-MM-DD');\r\n    const $dargMaskStart = this.$dragMask.firstChild;\r\n    const $dargMaskEnd = this.$dragMask.lastChild;\r\n    $dargMaskStart.innerHTML = startTime;\r\n    $dargMaskEnd.innerHTML = endTime;\r\n    $dargMaskStart.style.top = `${top}px`;\r\n    $dargMaskEnd.style.top = `${top}px`;\r\n\r\n    this.$dragMask.style.display = 'block';\r\n  }\r\n\r\n  // 拖拽结束后，设置 taskItem 的数据\r\n  dragAfterSetDate(taskItemEle) {\r\n    const $taskItemWidth = taskItemEle.offsetWidth;\r\n    const taskItemTranslateX = parseFloat(taskItemEle.getAttribute('style').match(/translateX\\(([-\\d.]+)px/)[1]);\r\n    const startDate = dayjs(taskItemTranslateX * this.pxUnitAmp).format('YYYY-MM-DD');\r\n    const endDate = dayjs((taskItemTranslateX + $taskItemWidth - this.step) * this.pxUnitAmp).format('YYYY-MM-DD');\r\n    this.updateTaskData({\r\n      id: taskItemEle.getAttribute('data-task-id'),\r\n      startDate,\r\n      endDate,\r\n    });\r\n  }\r\n\r\n  // 更新 tasks 数据\r\n  updateTaskData(data) {\r\n    const taskItem = this.options.tasks.find((item) => String(item.id) === data.id);\r\n\r\n    // 更新数据\r\n    for (let key in data) {\r\n      if (key === 'id') continue;\r\n      taskItem[key] = data[key];\r\n    }\r\n  }\r\n\r\n  // 创建今日线\r\n  createTodayLine() {\r\n    const $todayLine = createElement('div', addPrefixCls('today-line'));\r\n    $todayLine.style.transform = `translateX(${this.options.todayTranslateX + 15}px)`;\r\n    this.$taskBarRenderChunk.appendChild($todayLine);\r\n  }\r\n\r\n  // 重新渲染任务行在水平移动时，只修改样式，避免重新创建\r\n  rerenderTaskRowOnScrollX() {\r\n    const translateX = this.options.translateX;\r\n    this.$taskBarRenderChunk.style.transform = `translateX(-${translateX}px`;\r\n    if (this.options.showDragMask) {\r\n      this.$dragMaskWrap.style.transform = `translateX(-${translateX}px`;\r\n    }\r\n    const taskRowStyleBarList = document.querySelectorAll(`.${addPrefixCls('task-row-style-bar')}`);\r\n    taskRowStyleBarList.forEach((item) => {\r\n      item.style.transform = `translateX(${translateX}px)`;\r\n    })\r\n\r\n    // 判断 taskItem 水平滚动时是否在视图内\r\n    this.handleTaskItemInView()\r\n  }\r\n\r\n  // 判断 taskItem 滚动时是否在视图内\r\n  handleTaskItemInView = throttle(() => {\r\n    const translateX = this.options.translateX;\r\n    const taskItemList = document.querySelectorAll(`.${addPrefixCls('task-item')}`);\r\n    taskItemList.forEach((item) => {\r\n      // 获取每一个 taskItem 的 translateX\r\n      const itemTranslateX = parseFloat(item.getAttribute('style').match(/translateX\\(([-\\d.]+)px/)[1]);\r\n      const itemWidth = parseInt(item.offsetWidth);\r\n      // 获取父元素的上一个兄弟元素\r\n      const $taskRowStyleBar = item.parentElement.previousElementSibling;\r\n      const $leftArrowBtn = $taskRowStyleBar.querySelector(`.${addPrefixCls('task-item-go-back-left-btn')}`);\r\n      const $rightArrowBtn = $taskRowStyleBar.querySelector(`.${addPrefixCls('task-item-go-back-right-btn')}`);\r\n\r\n      // 在左侧隐藏\r\n      if ((itemTranslateX + itemWidth <= translateX)) {\r\n        $leftArrowBtn.setAttribute('data-left-arrow', true);\r\n        $leftArrowBtn.setAttribute('data-translateX', itemTranslateX);\r\n      } else {\r\n        $leftArrowBtn.removeAttribute('data-left-arrow');\r\n      }\r\n\r\n      // 在右侧隐藏\r\n      if (itemTranslateX >= translateX + this.bodyClientWidth) {\r\n        $rightArrowBtn.setAttribute('data-right-arrow', true);\r\n        $rightArrowBtn.setAttribute('data-translateX', itemTranslateX);\r\n      } else {\r\n        $rightArrowBtn.removeAttribute('data-right-arrow');\r\n      }\r\n    })\r\n  }, 300)\r\n\r\n  // 重新渲染Svg背景\r\n  rerenderSvgBg(translateX, minorList, todayTranslateX) {\r\n    // 重新设置\r\n    this.options.translateX = translateX;\r\n    this.options.minorList = minorList;\r\n    // 视图发生了变化\r\n    if (this.options.todayTranslateX !== todayTranslateX) {\r\n      this.options.todayTranslateX = todayTranslateX;\r\n      this.pxUnitAmp = dayjs().startOf('day').valueOf() / todayTranslateX;\r\n      // 切视图时，需要重新渲染\r\n      this.renderTaskBar();\r\n    }\r\n\r\n    // 修改svg视图偏移\r\n    this.setSvgViewBox(translateX);\r\n    this.createVerticalStripe(minorList);\r\n    // 水平滚动，重新渲染任务行\r\n    this.rerenderTaskRowOnScrollX();\r\n  }\r\n\r\n  setSvgViewBox(translateX) {\r\n    this.$svg.setAttribute('viewBox', `${translateX} 0 ${this.bodyClientWidth} ${this.bodyScrollHeight}`)\r\n  }\r\n\r\n  // 处理垂直滚动事件\r\n  handleScroll(event) {\r\n    const { scrollTop } = event.currentTarget;\r\n    this.setScrollY(scrollTop);\r\n\r\n    // 处理虚拟滚动，计算开始位置\r\n    const newStartIndex = Math.floor(scrollTop / this.options.rowHeight);\r\n    if (newStartIndex !== this.virtualStartIndex) {\r\n      this.virtualStartIndex = newStartIndex;\r\n      // 重新渲染\r\n      this.renderTaskBar();\r\n    }\r\n\r\n    this.handleTaskItemInView()\r\n  }\r\n\r\n  // 设置垂直滚动高度，节流处理\r\n  setScrollY = throttle((scrollTop) => {\r\n    this.scrollTop = scrollTop;\r\n  }, 100);\r\n\r\n  // 内容区宽度\r\n  get bodyClientWidth() {\r\n    const { width: $wrapperWidth } = this.$wrapper.getBoundingClientRect();\r\n    return $wrapperWidth;\r\n  }\r\n\r\n  // 内容区高度\r\n  get bodyClientHeight() {\r\n    const { height: $wrapperHeight } = this.$wrapper.getBoundingClientRect();\r\n    return $wrapperHeight - HEADER_HEIGHT;\r\n  }\r\n\r\n  // 内容区滚动区域高度\r\n  get bodyScrollHeight() {\r\n    let height = this.getBarList.length * this.options.rowHeight + TOP_PADDING;\r\n    if (height < this.bodyClientHeight) {\r\n      height = this.bodyClientHeight;\r\n    }\r\n\r\n    return height;\r\n  }\r\n\r\n  // 获取任务条列表数据\r\n  get getBarList() {\r\n    return this.options.tasks;\r\n  }\r\n\r\n  // 获取可视区域的行，虚拟滚动处理\r\n  get getVisibleRows() {\r\n    const visibleHeight = this.bodyClientHeight;\r\n    // 多渲染几个，减少空白\r\n    const visibleRowCount = Math.ceil(visibleHeight / this.options.rowHeight) + 10;\r\n\r\n    return {\r\n      start: this.virtualStartIndex,\r\n      count: visibleRowCount,\r\n    };\r\n  }\r\n\r\n  getTaskDataById(taskId) {\r\n    return this.options.tasks.find(item => item.id === taskId);\r\n  }\r\n\r\n  // 根据不同的视图确定拖动时的单位，在任何视图下都以一天为单位\r\n  get step() {\r\n    return ONE_DAY_MS / this.pxUnitAmp;\r\n  }\r\n}\r\n\r\nexport default Chart;","import TimeAxis from './TimeAxis';\r\nimport Chart from './Chart';\r\nimport { createElement, addPrefixCls } from './utils';\r\nimport './gantt.less';\r\n\r\nclass Gantt {\r\n  constructor(wrapper, tasks, options) {\r\n    this.prefixCls = 'my-gantt';\r\n    this.tasks = tasks;\r\n    this.options = options;\r\n    this.setup_wrapper(wrapper);\r\n    this._wheelTimer = null;\r\n  }\r\n\r\n  setup_wrapper(element) {\r\n    if (typeof element === \"string\") {\r\n      this.$container = document.querySelector(element);\r\n    } else if (element instanceof HTMLElement) {\r\n      this.$container = element;\r\n    } else {\r\n      throw new TypeError(\r\n        \"Gantt only supports usage of a string CSS selector,\" +\r\n        \" HTML DOM element for the 'element' parameter\",\r\n      );\r\n    }\r\n\r\n    // 创建甘特图外层容器\r\n    this.$gantWrap = createElement('div', addPrefixCls('wrapper'));\r\n    this.$container.appendChild(this.$gantWrap);\r\n\r\n    // 实例化时间轴\r\n    const timeAxis = new TimeAxis(this.$gantWrap, {\r\n      viewType: this.options.viewType || 'day',\r\n      showViewTypeSwitch: this.options.showViewTypeSwitch ?? true,\r\n      showBackToday: this.options.showBackToday ?? true,\r\n      onChange: ({ translateX, minorList, todayTranslateX, pxUnitAmp }) => {\r\n        /* \r\n          1. viewType(视图类型)变化，导致translateX发生变化，会刷新 minorList，会重新渲染 chart的SVG背景\r\n          2. translateX发生变化，会刷新 minorList，所以也需要重新渲染 chart的SVG背景\r\n        */\r\n        chart.rerenderSvgBg(translateX, minorList, todayTranslateX);\r\n      },\r\n      onViewTypeChange: ({ viewType, pxUnitAmp }) => {\r\n        // 视图发生变化，会重新执行 setTranslateX，所以会自动重新渲染\r\n        this.options.onViewTypeChange?.({ viewType, pxUnitAmp });\r\n      },\r\n      onTimelineClick: this.options.onTimelineClick,\r\n    });\r\n\r\n    // 实例化Chart\r\n    const chart = new Chart(this.$gantWrap, {\r\n      tasks: this.tasks,\r\n      rowHeight: 40, // 行高\r\n      translateX: timeAxis.translateX, // 偏移量\r\n      todayTranslateX: timeAxis.todayTranslateX,\r\n      minorList: timeAxis.getMinorList(),\r\n      lineColor: this.options.lineColor || '#f0f0f0', // 线条颜色\r\n      weekBarBg: this.options.weekBarBg || '#fafbfd', // 周末条的背景色\r\n      onWheel: (offsetX) => { // 监听水平滚动事件\r\n        if (this._wheelTimer) clearTimeout(this._wheelTimer);\r\n        timeAxis.isMoveing = true;\r\n        const newTranslateX = timeAxis.translateX + offsetX;\r\n        timeAxis.setTranslateX(newTranslateX);\r\n\r\n        this._wheelTimer = window.setTimeout(() => {\r\n          timeAxis.isMoveing = false;\r\n        }, 100);\r\n      },\r\n      onArrowBtnClick: ({ translateX }) => {\r\n        timeAxis.setTranslateX(translateX);\r\n      },\r\n      onTaskBarClick: this.options.onTaskBarClick,\r\n      showDragMask: this.options.showDragMask,\r\n      showTooltip: this.options.showTooltip,\r\n      renderTooltip: this.options.renderTooltip,\r\n      renderTaskbarContent: this.options.renderTaskbarContent,\r\n    });\r\n\r\n    this._timeAxis = timeAxis;\r\n    this._chart = chart;\r\n  }\r\n\r\n  /**\r\n * @description 跳转到指定日期\r\n * @param {Date | String} date - 要跳转的日期\r\n */\r\n  jumpTo(date) {\r\n    this._timeAxis.scrollToDate(date);\r\n  }\r\n\r\n  /**\r\n * @description 切换视图类型开关\r\n * @param {boolean} flag - 切换标志位\r\n */\r\n  toggleViewTypeSwitch(flag) {\r\n    this._timeAxis.toggleViewTypeSwitch(flag);\r\n  }\r\n\r\n  /**\r\n * @description 改变视图类型\r\n * @param {string} viewType - 视图类型\r\n */\r\n  changeViewType(viewType) {\r\n    this._timeAxis.setViewType(viewType);\r\n  }\r\n\r\n  /**\r\n * @description 切换返回今天按钮的显示状态\r\n * @param {boolean} flag - 是否显示返回今天按钮\r\n */\r\n  toggleBackTodayBtn(flag) {\r\n    this._timeAxis.toggleBackTodayBtn(flag);\r\n  }\r\n}\r\n\r\nexport default Gantt;"],"names":["t","e","module","this","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","ONE_DAY_MS","HEADER_HEIGHT","TOP_PADDING","viewTypeList","type","label","value","getViewTypeConfig","viewType","find","item","createElement","tagName","className","element","document","createSvgElement","props","undefined","createElementNS","key","setAttribute","addPrefixCls","str","prefixCls","concat","handleDrag","_ref","step","onDragBefore","onDraging","onDragEnd","positionX","accumulatedMove","handleMouseMove","ev","stopPropagation","preventDefault","moveX","clientX","deltaX","steps","handleMouseUp","event","window","removeEventListener","handleMouseDown","addEventListener","useHover","callback","isHover","handleMouseEnter","handleMouseLeave","isBetween","weekday","week","yearStart","weeks","quarter","bind","isLeapYear","weekYear","isoWeekYear","isoWeek","offsetName","dayjs","weekOfYear","quarterOfYear","advancedFormat","TimeAxis","wrapper","_this$options$showBac","options","_classCallCheck","$wrapper","verify_wrapper","sightConfig","headerWidth","clientWidth","headerHeight","translateX","getStartDate","_isMoveing","_showBackToday","showBackToday","initDom","_createClass","querySelector","HTMLElement","TypeError","$header","$tableHeader","createTableHeader","$timeAxisHeader","createTimeAxis","appendChild","$backToday","createBackToday","showViewTypeSwitch","$viewTypeSelect","createChangeViewType","createTimeAxisHeader","$timeAxis","renderTimeAxisChunk","$timeAxisRenderChunk","style","transform","createTimeAxisMajor","createTimeAxisMinor","innerHTML","_this","isMoveing","setTranslateX","$target","target","_this$options$onTimel","_this$options","dataTime","getAttribute","onTimelineClick","call","majorList","getMajorList","fragment","createDocumentFragment","$major","$majorLabel","innerText","cssText","width","left","minorList","getMinorList","$minor","$minorLabel","isWeek","isToday","display","scrollToToday","_this$options2","_this2","$option","val","setViewType","_this$options$onViewT","_this$options3","onViewTypeChange","pxUnitAmp","setBackTodayDisplay","isOverLeft","todayTranslateX","isOverRight","right","scrollToDate","toggleViewTypeSwitch","flag","toggleBackTodayBtn","_this$options$onChang","_this$options4","max","onChange","getDurationAmp","majorFormatMap","day","halfYear","translateAmp","endAmp","curDate","dates","getStart","getEnd","getNextDate","start","majorKey","end","push","startDate","endDate","majorAmp2Px","ampList","list","map","_this3","minorFormatMap","fstHalfYear","startAmp","getMinorKey","includes","setStart","hour","minute","second","setEnd","minorKey","pop","minorAmp2Px","_this4","isRestDay","onMoveingChange","cursor","opacity","removeAttribute","today","res","isObject","freeGlobal","global","Object","require","freeSelf","self","root","Function","now","reWhitespace","trimmedEndIndex","string","index","charAt","reTrimStart","baseTrim","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","result","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","isBinary","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","throttle","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","construct","Reflect","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","indexOf","stringTrim","trim","objectHasOwnProperty","regExpTest","RegExp","typeErrorCreate","unconstruct","_len","_key","_len2","_key2","addToSet","array","transformCaseFunc","lcElement","cleanArray","isPropertyExist","object","newObject","property","isArray","constructor","lookupGetter","prop","desc","fallbackValue","Chart","_defineProperty","taskItemList","querySelectorAll","itemTranslateX","parseFloat","itemWidth","offsetWidth","$taskRowStyleBar","parentElement","previousElementSibling","$leftArrowBtn","$rightArrowBtn","bodyClientWidth","scrollTop","virtualStartIndex","isSetProgressIng","$chartWrapper","height","bodyClientHeight","handleScroll","createGanttChart","handleTaskItemInView","$ganttChart","bodyScrollHeight","handleWheel","targetClassName","_this2$options$onWhee","_this2$options","onWheel","_this2$options$onTask","_this2$options2","taskItem","parentNode","taskItemId","taskData","getTaskDataById","onTaskBarClick","_this2$options$onArro","_this2$options3","$taskBarRenderChunk","transition","onArrowBtnClick","createSvgBg","createTaskBarRenderChunk","showDragMask","createDragMask","_this$options$onWheel","$dragMaskWrap","$dragMask","$dragMaskStart","$dragMaskEnd","$svg","viewBox","createVerticalStripe","lineColor","weekBarBg","stroke","$path","$rect","fill","strokeWidth","renderTaskBar","_this$getVisibleRows","getVisibleRows","count","getBarList","$taskRow","createTaskRow","top","rowHeight","createTaskRowStyleBar","$taskItemWrapper","renderTaskItem","createTodayLine","$taskitemGoBackLeftBtn","taskitemGoBackBtnOnLeft","$taskitemGoBackRightBtn","taskitemGoBackBtnOnRight","$btn","data","valid","Error","minStamp","$taskItem","id","pointerEvents","taskItemTranslateX","newTranslateX","dragAfterSetDate","$taskItemProgressWrapper","taskItemProgressWrapper","$taskItemContent","taskItemContent","$taskItemHandleWrapper","taskItemHandleWrapper","$taskItemTooltip","$taskItemProgressHandle","showTooltip","taskItemTooltip","zIndex","_$taskItemTooltip","remove","progress","background","$taskItemProgressText","taskItemProgressHandle","_this5","$taskItemTooltipWrapper","_$taskItem$getBoundin","getBoundingClientRect","progressPercent","updateTaskData","_this$options$renderT","taskItemContentStr","renderTaskbarContent","DOMPurify","sanitize","title","$resizeHolderLeft","taskItemResizeHolderLeft","$resizeHolderRight","taskItemResizeHolderRight","_this$options$renderT2","_this$options5","$tooltipWrap","tooltipStr","renderTooltip","_this6","$resizeHolder","$holderWrap","$taskItemWidth","newWidth","endTranslateX","_this7","startTime","endTime","$dargMaskStart","firstChild","$dargMaskEnd","lastChild","taskItemEle","tasks","$todayLine","rerenderTaskRowOnScrollX","taskRowStyleBarList","rerenderSvgBg","setSvgViewBox","currentTarget","setScrollY","newStartIndex","_this$$wrapper$getBou","$wrapperWidth","_this$$wrapper$getBou2","$wrapperHeight","visibleHeight","visibleRowCount","taskId","Gantt","setup_wrapper","_wheelTimer","_this$options$showVie","$container","$gantWrap","timeAxis","chart","_ref2","offsetX","_ref3","_timeAxis","_chart","jumpTo","changeViewType"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}